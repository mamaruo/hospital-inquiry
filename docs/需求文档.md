# 医院在线问诊系统需求文档

## 1. 项目概述

### 1.1 项目背景

为了应对日益增长的便捷医疗咨询需求，减少不必要的线下医院奔波，本项目旨在开发一个Web版的医院在线问诊系统。该系统允许患者通过文字、图片等方式与医生进行远程交流，获得初步的医疗建议和指导。

### 1.2 项目目标

-   为患者提供一个方便、快捷的在线问诊渠道。
-   为医生提供一个灵活、高效的在线工作平台。
-   实现医患之间的基本图文交流功能。
-   该平台中的聊天记录是持久化的。

## 2. 用户角色

本系统主要包含以下三种用户角色：

-   **患者**：使用本系统进行健康问题咨询的普通用户。
-   **医生**：经过认证，在平台提供医疗咨询服务的专业人员。
-   **管理员**：负责系统后台管理和维护的人员。

对于角色的限制，主要在前端仪表板

## 3. 功能需求

前端使用的是一个 Dashboard 的模板，所有主要功能在其中列出即可。

对于不同的角色，前端显示不同的功能即可。后台相关的端口无需做角色区分或权限限制，以简化开发。

### 3.1 通用功能

| 功能模块 | 功能点 | 描述 |
| :--- | :--- | :--- |
| **用户认证**（患者已实现） | 用户注册 | 患者可以在线注册账号。医生账号由管理员预先创建。 |
| | 用户登录（已实现） | 所有角色的用户通过账号密码登录系统。 |
| | 用户登出（已实现） | 用户可以安全退出登录。 |
| **个人中心** | 个人信息查看 | 用户可以查看自己的信息和个人资料。 |
|  | 信息查看 | 用户可以在任何非个人中心页的右上查看到自己的手机号。 |

### 3.2 患者端功能

| 功能模块 | 功能点 | 描述 |
| :--- | :--- | :--- |
| **仪表盘** | 问诊列表 | 展示当前正在进行和已完成的历史问诊记录，若无历史，引导到创建问诊 |
| | 问诊人 | 一个患者账号可以有多个问诊人。患者账户可以管理问诊人的基本信息，姓名，性别，出生日期，病史。 |
| | 创建问诊 | 患者可以选择科室，之后选择医生，创建新的问诊会话。 |
| **问诊流程** | 选择科室/医生 | 提供科室列表供患者选择，可进一步查看医生列表。列表中有医生的简介、擅长领域等信息。 |
| | 描述病情 | 在创建问诊时，选择已有的问诊人，填写病情描述。 |
| **在线交流** | 文字聊天 | 与医生进行实时文字交流。 |
| | 发送图片 | 可以从本地上传图片（如患处照片、检查报告等）发送给医生。 |
| | 查看消息 | 实时接收并查看医生发送的文字和图片消息。 |
| **医生列表** | 查看医生信息 | 可以查看医生的照片、简介、所属科室、职称、擅长领域等信息。 |

### 3.3 医生端功能

backend\src\main\resources\doctors.json 中有医生信息(示例如下)，可用于预建立账号。
```
  {
    "name": "辜玉刚",
    "department": "内科",
    "title": "主任医师",
    "expertise": "普外胃肠疾病、外科急腹症、炎性或肿瘤性肠梗阻、重症急性胰腺炎及严重多发伤的诊治。",
    "photo_path": "C:\\Users\\mamaruo\\Documents\\Python\\doctor\\avatars\\143643273_85_116_0.jpg"
  }
```

| 功能模块 | 功能点 | 描述 |
| :--- | :--- | :--- |
| **工作台** | 接诊列表 | 展示待处理、进行中和已完成的患者问诊列表。 |
| | 接受问诊 | 医生可以从待处理列表中接受新的问诊请求。 |
| **在线交流** | 文字聊天 | 与患者进行实时文字交流。 |
| | 查看图片 | 查看患者发送的图片，支持点击放大。 |
| | 发送消息 | 向患者发送指导性建议和信息。 |
| | 发送图片 | 与患者发来图片类似，可以给患者发送图片消息。 |
| **问诊管理** | 查看患者信息 | 查看患者的基础注册信息和本次问诊的病情描述。 |
| | 结束问诊 | 在咨询结束后，医生可以主动结束本次问诊。 |

### 3.4 管理员端功能

| 功能模块 | 功能点 | 描述 |
| :--- | :--- | :--- |
| **用户管理** | 患者管理 | 查看、搜索、禁用/启用患者账号。 |
| | 医生管理 | 创建、编辑、查看、搜索、禁用/启用医生账号。能够管理医生所属科室。 |
| **科室管理** | 科室列表 | 查看系统中的所有科室。 |
| | 增删改查 | 管理员可以对科室信息进行增、删、改、查操作。 |

## 4. 非功能需求

| 类别 | 需求描述 |
| :--- | :--- |
| **存储需求** | - **图片存储**：用户上传的图片将保存在服务器的本地文件系统中（Windows 本地存储）。数据库中仅保存图片的访问链接（模拟URL）。 |